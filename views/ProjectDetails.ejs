<link rel="stylesheet" href="/css/multi-select.css" />
<link rel="stylesheet" href="/css/projectDetails_styles.css" />
<main>
  <div class="filter-container">
    <h1>Filter Box</h1>
    <form method="post" action="/projects/filter" id="filter-by-issue-labels">
      <div
        class="multiselect"
        id="issue-labels"
        multiple="multiple"
        data-target="multi-0"
      >
        <div class="title noselect">
          <input
            type="text"
            class="text"
            name="labelsList"
            autocomplete="off"
            value="Select"
            readonly
          />
          <span class="close-icon">&times;</span>
          <span class="expand-icon">&plus;</span>
        </div>
        <input type="hidden" name="type" value="filter-by-labels" />
        <div class="container">
          <option value="Bug">Bug</option>
          <option value="UI Improvement">UI Improvement</option>
          <option value="Documentation">Documentation</option>
          <option value="Enhancement">Enhancement</option>
          <option value="Duplicate">Duplicate</option>
        </div>
      </div>
      <button type="submit" class="filter-submit-btn">Filter</button>
    </form>

    <form method="post" action="/projects/filter" id="filter-by-author">
      <input type="hidden" name="type" value="filter-by-author" />
      <select name="authorName">
        <option value="" selected disabled>Filter By Author</option>
        <option value="Tridev">Tridev</option>
        <option value="Saurav">Saurav</option>
        <option value="Nihal">Nihal</option>
        <option value="Mausam">Mausam</option>
      </select>
      <button type="submit" class="filter-submit-btn">Filter</button>
    </form>

    <form method="post" action="/projects/filter" id="search-title-desc">
      <input type="hidden" name="type" value="search" />
      <input
        type="text"
        name="searchBy"
        id=""
        placeholder="Search for title or description"
      />
      <button type="submit" class="filter-submit-btn">Search</button>
    </form>
  </div>

  <h1>Project Details</h1>
  <div class="project-container">
    <h1><%=project.title%></h1>
    <blockquote>-By <%=project.author%></blockquote>
    <p><%=project.desc%></p>
  </div>

  <div class="issues-container">
    <h1>Issues</h1>
    <ul>
      <% project.issues.forEach(issue => { %>
      <li>
        <h2><%=issue.title%></h2>
        <p>-By <%=issue.author%></p>
        <p><%=issue.desc%></p>
        <div class="label-tags">
          <ul>
            <%issue.labels.forEach(label => {%>
            <li><%=label%></li>
            <% }) %>
          </ul>
        </div>
      </li>
      <% }) %>
    </ul>
  </div>
</main>

<script src="/scripts/MultiSelect.js"></script>
<script src="/scripts/ProjectDetails.js"></script>
