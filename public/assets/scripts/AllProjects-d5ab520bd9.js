const getAuthors=()=>{$.ajax({type:"GET",url:"/issues/authors",success:function(e){const s=$("#author-selector");$(s).empty(),$(s).append('<option value="" selected disabled>Filter By Author</option>');let o="";e.data.authors.forEach((e=>{o+=`<option value="${e}">${e}</option>`})),$(s).append(o)},error:function(e){console.log(e)}})},getPreviousIssueLabels=e=>{$.ajax({type:"GET",url:`/projects/previous-issues/${e}`,success:function(e){$("#previous-issues").empty();let s="";e.labels.forEach((e=>{s+=`<option value="${e}"></option>`})),$("#previous-issues").append(s)},error:function(e){console.log(e)}})},getAllIssueLabels=e=>{$.ajax({type:"GET",url:`/projects/previous-issues/${e}`,success:function(e){$("#label-filter-container").empty();let s="";e.labels.forEach((e=>{s+=`<option value="${e}">${e}</option>`})),$("#label-filter-container").append(s)},error:function(e){console.log(e)}})};!function(){const e=$(".raise-issue"),s=$(".modal-container"),o=$(".close-modal"),t=$(".overlay");let n;e.click((function(e){var o;s.removeClass("hide"),n=this.id,o=n,$.ajax({type:"GET",url:`/projects/previous-issues/${o}`,success:function(e){$("#previous-issues").empty();let s="";e.labels.forEach((e=>{s+=`<option value="${e}"></option>`})),$("#previous-issues").append(s)},error:function(e){console.log(e)}}),t.show()})),o.click((function(){s.addClass("hide"),t.hide()}));const i=$("#create-issue-form");$(i).submit((function(e){e.preventDefault();const o=$(this).serializeArray();o.push({name:"projectID",value:n}),$.ajax({type:"post",url:$(this).attr("action"),data:o,success:function(e){const{newIssue:s}=e;let o="";var t;o+=`<li>\n          <h2>${s.title}</h2>\n          <p>-By ${s.author}</p>\n          <p>${s.desc}</p>\n          <div class="label-tags">\n            <ul>\n              ${s.labels.map((e=>`<li>${e}</li>`))}\n            </ul>\n          </div>\n        </li>`,$("#details-issues").prepend(o),t=n,$.ajax({type:"GET",url:`/projects/previous-issues/${t}`,success:function(e){$("#label-filter-container").empty();let s="";e.labels.forEach((e=>{s+=`<option value="${e}">${e}</option>`})),$("#label-filter-container").append(s)},error:function(e){console.log(e)}}),$.ajax({type:"GET",url:"/issues/authors",success:function(e){const s=$("#author-selector");$(s).empty(),$(s).append('<option value="" selected disabled>Filter By Author</option>');let o="";e.data.authors.forEach((e=>{o+=`<option value="${e}">${e}</option>`})),$(s).append(o)},error:function(e){console.log(e)}});const i=$(`#issues-count-${n}`).text();$(`#issues-count-${n}`).text(parseInt(i)+1),$(".no-issues").empty()},error:function(e){console.log(e)}}),$(i).each((function(){this.reset()})),s.addClass("hide"),t.hide()}))}();